# name: Build and Push Flask Docker Image

# # Trigger workflow on push to main branch
# on:
#   push:
#     branches:
#       - main

# jobs:
#   build-and-push:
#     runs-on: ubuntu-latest

#     steps:
#       # 1. Checkout the repository
#       - name: Checkout repository
#         uses: actions/checkout@v3

#       # 2. Set up Python environment
#       - name: Set up Python
#         uses: actions/setup-python@v4
#         with:
#           python-version: '3.12'

#       # 3. Install Python dependencies
#       - name: Install dependencies
#         run: |
#           python -m pip install --upgrade pip
#           pip install -r requirements.txt

#       # 4. Optional: Run tests (you can add your test commands here)
#       - name: Run tests
#         run: echo "No tests defined"

#       # 5. Log in to Docker Hub using secrets
#       - name: Log in to Docker Hub
#         uses: docker/login-action@v2
#         with:
#           username: ${{ secrets.DOCKERHUB_USERNAME }}
#           password: ${{ secrets.DOCKERHUB_PASSWORD }}

#       # 6. Build Docker image
#       - name: Build Docker image
#         run: docker build -t ${{ secrets.DOCKERHUB_USERNAME }}/flask-demo:latest .

#       # 7. Push Docker image to Docker Hub
#       - name: Push Docker image
#         run: docker push ${{ secrets.DOCKERHUB_USERNAME }}/flask-demo:latest

#       # 8. Upload build artifacts (optional)
#       - name: Upload build artifact
#         uses: actions/upload-artifact@v4
#         with:
#           name: docker-build
#           path: .

